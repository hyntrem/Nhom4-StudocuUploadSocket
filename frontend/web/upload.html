<!-- Trang Upload tÃ i liá»‡u | Studocu Viá»‡t Nam -->
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Upload tÃ i liá»‡u | Studocu Viá»‡t Nam</title>

  <!-- CSS -->
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/upload.css">
</head>

<body>
  <!-- ============ HEADER ============ -->
  <header class="header">
    <div class="logo">
      <img src="assets/logo.png" alt="Studocu Logo">
      <span>Studocu</span>
    </div>

    <div class="user-actions">
      <img src="assets/avatar.jpg" alt="Avatar" class="avatar" id="userAvatar">
      <button id="logoutBtn" class="logout-btn">ÄÄƒng xuáº¥t</button>
    </div>
  </header>

  <!-- ============ SIDEBAR ============ -->
  <aside class="sidebar">
    <ul>
      <li><a href="index.html">ğŸ  Trang chá»§</a></li>
      <li><a href="upload.html" class="active">ğŸ“¤ Táº£i tÃ i liá»‡u</a></li>
      <li><a href="myfiles.html">ğŸ“‚ Kho lÆ°u trá»¯ cá»§a tÃ´i</a></li>
      <li><a href="#">ğŸ•’ Gáº§n Ä‘Ã¢y</a></li>
      <li><a href="#">ğŸ—‘ï¸ ThÃ¹ng rÃ¡c</a></li>
      <li><a href="#">â­ ÄÃ£ lÆ°u</a></li>
      <li><a href="#">âš™ï¸ CÃ i Ä‘áº·t</a></li>
    </ul>
  </aside>

  <!-- ============ MAIN CONTENT ============ -->
  <main class="content">
    <section class="upload-container">
      <h2>ğŸ“¤ Táº£i lÃªn tÃ i liá»‡u cá»§a báº¡n</h2>

      <!-- Drag & Drop Zone -->
      <div id="dropZone" class="drop-zone">
        <p>KÃ©o & tháº£ tá»‡p vÃ o Ä‘Ã¢y hoáº·c <span id="browseFile" class="browse">chá»n tá»‡p</span></p>
        <input type="file" id="fileInput" hidden>
      </div>

      <!-- Metadata form -->
      <div class="meta-section">
        <label for="visibility">ğŸ”’ Cháº¿ Ä‘á»™ hiá»ƒn thá»‹:</label>
        <select id="visibility">
          <option value="public">CÃ´ng khai</option>
          <option value="private">RiÃªng tÆ°</option>
        </select>

        <label for="tags">ğŸ·ï¸ Tháº» (tags):</label>
        <input type="text" id="tags" placeholder="VD: láº­p trÃ¬nh, python, toÃ¡n há»c">

        <label for="description">ğŸ“ MÃ´ táº£ ngáº¯n:</label>
        <textarea id="description" rows="3" placeholder="ThÃªm mÃ´ táº£ cho tÃ i liá»‡u cá»§a báº¡n..."></textarea>
      </div>

      <!-- Upload controls -->
      <div class="upload-controls">
        <button id="startBtn" class="btn start">â–¶ï¸ Báº¯t Ä‘áº§u</button>
        <button id="pauseBtn" class="btn pause" disabled>â¸ Táº¡m dá»«ng</button>
        <button id="resumeBtn" class="btn resume" disabled>ğŸ” Tiáº¿p tá»¥c</button>
        <button id="stopBtn" class="btn stop" disabled>â›” Dá»«ng</button>
      </div>

      <!-- Progress bar -->
      <div class="progress-bar">
        <div id="progress" class="progress"></div>
      </div>
      <p id="statusText" class="status-text">ChÆ°a cÃ³ tiáº¿n trÃ¬nh nÃ o...</p>
    </section>
  </main>

  <!-- ============ FOOTER ============ -->
  <footer class="footer">
    <div class="footer-links" style="text-align:center;">
      <a href="#">Giá»›i thiá»‡u</a> |
      <a href="#">LiÃªn há»‡</a> |
      <a href="#">Äiá»u khoáº£n</a> |
      <a href="#">ChÃ­nh sÃ¡ch báº£o máº­t</a>
    </div>

    <div class="footer-info">
      <p>Studocu khÃ´ng liÃªn káº¿t hoáº·c Ä‘Æ°á»£c xÃ¡c nháº­n bá»Ÿi báº¥t ká»³ trÆ°á»ng há»c, cao Ä‘áº³ng hoáº·c Ä‘áº¡i há»c nÃ o.</p>
      <p>Copyright Â© 2025 StudeerSnel B.V., Keizersgracht 424-sous, 1016 GC Amsterdam</p>
      <p>KVK: 56829787, BTW: NL852321363B01</p>
    </div>
  </footer>

  <!-- ============ SCRIPTS ============ -->
  <script src="js/api.js"></script>
  <script src="js/upload.js"></script>

  <!-- âœ… Kiá»ƒm tra Ä‘Äƒng nháº­p vÃ  xá»­ lÃ½ Ä‘Äƒng xuáº¥t -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const token = localStorage.getItem("token");
      const logoutBtn = document.getElementById("logoutBtn");
      const avatar = document.getElementById("userAvatar");

      if (!token) {
        // Náº¿u chÆ°a Ä‘Äƒng nháº­p -> chuyá»ƒn vá» login
        window.location.href = "login.html";
        return;
      }

      logoutBtn.addEventListener("click", () => {
        if (confirm("Báº¡n cÃ³ cháº¯c muá»‘n Ä‘Äƒng xuáº¥t khÃ´ng?")) {
          localStorage.removeItem("token");
          localStorage.removeItem("user");
          window.location.href = "login.html";
        }
      });
    });
  </script>
</body>
</html>
